<!--  Adding sub-menus to a menu which shows on click of the menu item.
When clicked outside the menu then the menu items close off. -->


<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Hilar's Sandbox Page</title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <style>
        ul {
            width: 300px;
        }
        
        ul li ul {
            display: none;
        }
        
        ul li ul.active {
            display: block;
        }
    </style>
</head>

<body>
    <!-- Menu -->
    <ul id="nav">
        <li><a href="javascript:void();">Home</a></li>
        <li class="has-child">Products
            <ul>
                <li><a href="javascript:void();">Shoes</a></li>
                <li><a href="javascript:void();">Jackets</a></li>
            </ul>
        </li>
        <li class="has-child">
            <a href="javascript:void(0)">Contact Us</a>
            <ul>
                <li><a href="javascript:void();">Shoes</a></li>
                <li><a href="javascript:void();">Jackets</a></li>
            </ul>
        </li>
    </ul>

    <!-- Close Submenu on click outside  -->
    <script>
        jQuery(document).ready(function() {

            //on click of menu item open sub menu
            jQuery("ul li.has-child").click(function() {
                //remove the class from all other sub menus
                jQuery('ul li.has-child ul').not(this).removeClass('active');
                //apply only to active menu item
                jQuery(this).children('ul').toggleClass('active');
            });

            //on clicking anywhere outside close the submenus of all menu items
            $("html").click(function(event) {
                if ($(event.target).closest('.has-child').length === 0) {
                    $('.has-child ul').removeClass('active');
                }
            });

        });
    </script>
</body>

</html>